{% extends "base.html" %}

{% block title %}–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="hero bg-gradient-to-r from-success to-primary text-primary-content rounded-lg mb-8">
        <div class="hero-content text-center">
            <div class="max-w-md">
                <h1 class="text-4xl font-bold mb-4">–ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h1>
                <p class="text-lg opacity-90">–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫—Ä–µ–¥–∏—Ç—ã, –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã, –∏–ø–æ—Ç–µ–∫–∞ –Ω–∞ –≤—ã–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö</p>
                <div class="badge badge-lg badge-accent mt-4">–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –æ–Ω–ª–∞–π–Ω</div>
            </div>
        </div>
    </div>

    <!-- –ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <!-- –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h2 class="card-title text-primary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                    </svg>
                    –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç
                </h2>
                <p class="text-base-content/70">–î–æ 2 000 000 ‚ÇΩ –Ω–∞ –ª—é–±—ã–µ —Ü–µ–ª–∏</p>
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–°—Ç–∞–≤–∫–∞ –æ—Ç</div>
                        <div class="stat-value text-primary">12.9%</div>
                        <div class="stat-desc">–≥–æ–¥–æ–≤—ã—Ö</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–°—Ä–æ–∫ –¥–æ</div>
                        <div class="stat-value text-secondary">7 –ª–µ—Ç</div>
                        <div class="stat-desc">–º–µ—Å—è—Ü–µ–≤</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-primary" onclick="openCreditModal('consumer')">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                </div>
            </div>
        </div>

        <!-- –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h2 class="card-title text-secondary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                    </svg>
                    –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞
                </h2>
                <p class="text-base-content/70">–õ–∏–º–∏—Ç –¥–æ 500 000 ‚ÇΩ —Å –ª—å–≥–æ—Ç–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º</p>
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–°—Ç–∞–≤–∫–∞ –æ—Ç</div>
                        <div class="stat-value text-primary">19.9%</div>
                        <div class="stat-desc">–≥–æ–¥–æ–≤—ã—Ö</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–õ—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥</div>
                        <div class="stat-value text-secondary">55</div>
                        <div class="stat-desc">–¥–Ω–µ–π</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-secondary" onclick="openCreditModal('card')">–û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É</button>
                </div>
            </div>
        </div>

        <!-- –ò–ø–æ—Ç–µ–∫–∞ -->
        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h2 class="card-title text-accent">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    –ò–ø–æ—Ç–µ–∫–∞
                </h2>
                <p class="text-base-content/70">–î–æ 30 000 000 ‚ÇΩ –Ω–∞ –ø–æ–∫—É–ø–∫—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</p>
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–°—Ç–∞–≤–∫–∞ –æ—Ç</div>
                        <div class="stat-value text-primary">6.5%</div>
                        <div class="stat-desc">–≥–æ–¥–æ–≤—ã—Ö</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–°—Ä–æ–∫ –¥–æ</div>
                        <div class="stat-value text-secondary">30</div>
                        <div class="stat-desc">–ª–µ—Ç</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-accent" onclick="openCreditModal('mortgage')">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–ø–æ—Ç–µ–∫—É</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–∏ –∫—Ä–µ–¥–∏—Ç—ã -->
    <div class="card bg-base-100 shadow-xl mb-8">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                –ú–æ–∏ –∫—Ä–µ–¥–∏—Ç—ã
            </h2>
            
            {% if credits %}
            <div class="overflow-x-auto">
                <table class="table table-zebra w-full">
                    <thead>
                        <tr>
                            <th>–¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞</th>
                            <th>–°—É–º–º–∞</th>
                            <th>–°—Ç–∞–≤–∫–∞</th>
                            <th>–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂</th>
                            <th>–û—Å—Ç–∞—Ç–æ–∫</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for credit in credits %}
                        <tr>
                            <td>
                                <span class="badge badge-outline">
                                    {% if credit.status == 'active' %}–ê–∫—Ç–∏–≤–Ω—ã–π –∫—Ä–µ–¥–∏—Ç
                                    {% elif credit.status == 'paid' %}–ü–æ–≥–∞—à–µ–Ω
                                    {% elif credit.status == 'overdue' %}–ü—Ä–æ—Å—Ä–æ—á–µ–Ω
                                    {% endif %}
                                </span>
                            </td>
                            <td class="font-bold">{{ credit.amount|floatformat:0 }} ‚ÇΩ</td>
                            <td>{{ credit.interest_rate }}%</td>
                            <td>{{ credit.monthly_payment|floatformat:0 }} ‚ÇΩ</td>
                            <td class="font-bold">{{ credit.remaining_amount|floatformat:0 }} ‚ÇΩ</td>
                            <td>
                                {% if credit.status == 'active' %}
                                    <span class="badge badge-success">–ê–∫—Ç–∏–≤–Ω—ã–π</span>
                                {% elif credit.status == 'paid' %}
                                    <span class="badge badge-info">–ü–æ–≥–∞—à–µ–Ω</span>
                                {% elif credit.status == 'overdue' %}
                                    <span class="badge badge-error">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω</span>
                                {% endif %}
                            </td>
                            <td>
                                <div class="flex gap-2">
                                    <button class="btn btn-sm btn-primary" onclick="viewCreditDetails({{ credit.id }})">–î–µ—Ç–∞–ª–∏</button>
                                    <button class="btn btn-sm btn-secondary" onclick="makePayment({{ credit.id }})">–ü–ª–∞—Ç–µ–∂</button>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="text-center py-8">
                <svg class="w-16 h-16 mx-auto text-base-content/30 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h3 class="text-xl font-semibold mb-2">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∫—Ä–µ–¥–∏—Ç–æ–≤</h3>
                <p class="text-base-content/70 mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫—Ä–µ–¥–∏—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∏ –ø–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –æ–Ω–ª–∞–π–Ω</p>
                <button class="btn btn-primary" onclick="openCreditModal('consumer')">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫—Ä–µ–¥–∏—Ç–∞ -->
    <div class="card bg-base-100 shadow-xl mb-8">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
                –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫—Ä–µ–¥–∏—Ç–∞
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞</span>
                    </label>
                    <input type="number" id="loanAmount" class="input input-bordered" placeholder="100000" min="10000" max="2000000">
                </div>
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–º–µ—Å—è—Ü—ã)</span>
                    </label>
                    <input type="number" id="loanTerm" class="input input-bordered" placeholder="12" min="3" max="84">
                </div>
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞</span>
                    </label>
                    <input type="number" id="interestRate" class="input input-bordered" placeholder="12.9" min="5" max="30" step="0.1">
                </div>
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞</span>
                    </label>
                    <select id="paymentType" class="select select-bordered">
                        <option value="annuity">–ê–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–π</option>
                        <option value="differentiated">–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
                    </select>
                </div>
            </div>
            <div class="card-actions justify-center mt-6">
                <button class="btn btn-primary" onclick="calculateLoan()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
            </div>
            
            <div id="calculationResult" class="mt-6 hidden">
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂</div>
                        <div class="stat-value text-primary" id="monthlyPayment">0 ‚ÇΩ</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–û–±—â–∞—è —Å—É–º–º–∞ –≤—ã–ø–ª–∞—Ç</div>
                        <div class="stat-value text-secondary" id="totalPayment">0 ‚ÇΩ</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–ü–µ—Ä–µ–ø–ª–∞—Ç–∞</div>
                        <div class="stat-value text-accent" id="overpayment">0 ‚ÇΩ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-6">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞—à–∏—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="text-center">
                    <div class="text-3xl mb-2">‚ö°</div>
                    <h3 class="font-semibold mb-1">–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ</h3>
                    <p class="text-sm text-base-content/70">–†–µ—à–µ–Ω–∏–µ –∑–∞ 15 –º–∏–Ω—É—Ç</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl mb-2">üì±</div>
                    <h3 class="font-semibold mb-1">–û–Ω–ª–∞–π–Ω –∑–∞—è–≤–∫–∞</h3>
                    <p class="text-sm text-base-content/70">–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl mb-2">üí∞</div>
                    <h3 class="font-semibold mb-1">–í—ã–≥–æ–¥–Ω—ã–µ —Å—Ç–∞–≤–∫–∏</h3>
                    <p class="text-sm text-base-content/70">–û—Ç 12.9% –≥–æ–¥–æ–≤—ã—Ö</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl mb-2">üîí</div>
                    <h3 class="font-semibold mb-1">–ë–µ–∑–æ–ø–∞—Å–Ω–æ</h3>
                    <p class="text-sm text-base-content/70">–ó–∞—â–∏—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ -->
<div id="creditModal" class="modal">
    <div class="modal-box">
        <h3 class="font-bold text-lg mb-4" id="modalTitle">–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –∫—Ä–µ–¥–∏—Ç</h3>
        <form id="creditForm">
            <div class="form-control mb-4">
                <label class="label">
                    <span class="label-text">–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞</span>
                </label>
                <input type="number" class="input input-bordered" name="amount" placeholder="100000" min="10000" max="2000000" required>
            </div>
            <div class="form-control mb-4">
                <label class="label">
                    <span class="label-text">–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (–º–µ—Å—è—Ü—ã)</span>
                </label>
                <input type="number" class="input input-bordered" name="term" placeholder="12" min="3" max="84" required>
            </div>
            <div class="form-control mb-4">
                <label class="label">
                    <span class="label-text">–¶–µ–ª—å –∫—Ä–µ–¥–∏—Ç–∞</span>
                </label>
                <select class="select select-bordered" name="purpose" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å</option>
                    <option value="consumer">–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–µ —Ü–µ–ª–∏</option>
                    <option value="car">–ü–æ–∫—É–ø–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</option>
                    <option value="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
                    <option value="renovation">–†–µ–º–æ–Ω—Ç</option>
                    <option value="other">–î—Ä—É–≥–æ–µ</option>
                </select>
            </div>
            <div class="form-control mb-4">
                <label class="label">
                    <span class="label-text">–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥</span>
                </label>
                <input type="number" class="input input-bordered" name="income" placeholder="50000" min="10000" required>
            </div>
            <div class="modal-action">
                <button type="button" class="btn btn-ghost" onclick="closeCreditModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="btn btn-primary">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
        </form>
    </div>
</div>

<script>
function openCreditModal(type) {
    const modal = document.getElementById('creditModal');
    const title = document.getElementById('modalTitle');
    
    switch(type) {
        case 'consumer':
            title.textContent = '–ü–æ–¥–∞—á–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç';
            break;
        case 'card':
            title.textContent = '–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã';
            break;
        case 'mortgage':
            title.textContent = '–†–∞—Å—á–µ—Ç –∏–ø–æ—Ç–µ–∫–∏';
            break;
    }
    
    modal.classList.add('modal-open');
}

function closeCreditModal() {
    document.getElementById('creditModal').classList.remove('modal-open');
}

function viewCreditDetails(creditId) {
    showAlert('–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –∫—Ä–µ–¥–∏—Ç–∞ #' + creditId, 'info');
}

function makePayment(creditId) {
    showAlert('–û–ø–ª–∞—Ç–∞ –ø–æ –∫—Ä–µ–¥–∏—Ç—É #' + creditId, 'info');
}

function calculateLoan() {
    const amount = parseFloat(document.getElementById('loanAmount').value) || 0;
    const term = parseInt(document.getElementById('loanTerm').value) || 0;
    const rate = parseFloat(document.getElementById('interestRate').value) || 0;
    const paymentType = document.getElementById('paymentType').value;
    
    if (amount <= 0 || term <= 0 || rate <= 0) {
        showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'warning');
        return;
    }
    
    const monthlyRate = rate / 100 / 12;
    let monthlyPayment, totalPayment;
    
    if (paymentType === 'annuity') {
        // –ê–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–π –ø–ª–∞—Ç–µ–∂
        monthlyPayment = amount * (monthlyRate * Math.pow(1 + monthlyRate, term)) / (Math.pow(1 + monthlyRate, term) - 1);
        totalPayment = monthlyPayment * term;
    } else {
        // –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞—Ç–µ–∂ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
        const principalPayment = amount / term;
        const firstPayment = principalPayment + amount * monthlyRate;
        const lastPayment = principalPayment + principalPayment * monthlyRate;
        monthlyPayment = (firstPayment + lastPayment) / 2;
        totalPayment = monthlyPayment * term;
    }
    
    const overpayment = totalPayment - amount;
    
    document.getElementById('monthlyPayment').textContent = Math.round(monthlyPayment).toLocaleString() + ' ‚ÇΩ';
    document.getElementById('totalPayment').textContent = Math.round(totalPayment).toLocaleString() + ' ‚ÇΩ';
    document.getElementById('overpayment').textContent = Math.round(overpayment).toLocaleString() + ' ‚ÇΩ';
    
    document.getElementById('calculationResult').classList.remove('hidden');
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏
document.getElementById('creditForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    showAlert('–ó–∞—è–≤–∫–∞ –Ω–∞ –∫—Ä–µ–¥–∏—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ—ë –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è –∏ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.', 'success');
    closeCreditModal();
    this.reset();
});
</script>
{% endblock %}