{% extends "base.html" %}

{% block title %}–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="hero bg-gradient-to-r from-accent to-primary text-primary-content rounded-lg mb-8">
        <div class="hero-content text-center">
            <div class="max-w-md">
                <h1 class="text-4xl font-bold mb-4">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h1>
                <p class="text-lg opacity-90">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å—á–µ—Ç–∞, –ü–ò–§—ã –∏ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</p>
                <div class="badge badge-lg badge-accent mt-4">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –¥–æ 15%</div>
            </div>
        </div>
    </div>

    <!-- –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <!-- –ò–ò–° -->
        <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300">
            <div class="card-body">
                <h2 class="card-title text-primary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    –ò–ò–°
                </h2>
                <p class="text-base-content/70">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Å—á–µ—Ç —Å –Ω–∞–ª–æ–≥–æ–≤—ã–º–∏ –ª—å–≥–æ—Ç–∞–º–∏</p>
                
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–õ–∏–º–∏—Ç –≤–∑–Ω–æ—Å–∞</div>
                        <div class="stat-value text-primary">400 000 ‚ÇΩ</div>
                        <div class="stat-desc">–≤ –≥–æ–¥</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–ù–∞–ª–æ–≥–æ–≤—ã–π –≤—ã—á–µ—Ç</div>
                        <div class="stat-value text-secondary">13%</div>
                        <div class="stat-desc">–¥–æ 52 000 ‚ÇΩ</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-primary" onclick="openInvestmentModal('iis')">–û—Ç–∫—Ä—ã—Ç—å –ò–ò–°</button>
                </div>
            </div>
        </div>

        <!-- –ü–ò–§ -->
        <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300">
            <div class="card-body">
                <h2 class="card-title text-secondary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                    </svg>
                    –ü–ò–§
                </h2>
                <p class="text-base-content/70">–ü–∞–µ–≤—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–æ–Ω–¥—ã –¥–ª—è –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏</p>
                
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞</div>
                        <div class="stat-value text-primary">1 000 ‚ÇΩ</div>
                        <div class="stat-desc">–¥–ª—è –≤—Ö–æ–¥–∞</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –¥–æ</div>
                        <div class="stat-value text-secondary">12%</div>
                        <div class="stat-desc">–≥–æ–¥–æ–≤—ã—Ö</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-secondary" onclick="openInvestmentModal('pif')">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á–µ—Ç -->
        <div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300">
            <div class="card-body">
                <h2 class="card-title text-accent">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                    –ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á–µ—Ç
                </h2>
                <p class="text-base-content/70">–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –Ω–∞ —Ñ–æ–Ω–¥–æ–≤–æ–º —Ä—ã–Ω–∫–µ</p>
                
                <div class="stats stats-vertical shadow">
                    <div class="stat">
                        <div class="stat-title">–ö–æ–º–∏—Å—Å–∏—è</div>
                        <div class="stat-value text-primary">0.05%</div>
                        <div class="stat-desc">–∑–∞ —Å–¥–µ–ª–∫—É</div>
                    </div>
                    <div class="stat">
                        <div class="stat-title">–î–æ—Å—Ç—É–ø –∫</div>
                        <div class="stat-value text-secondary">5000+</div>
                        <div class="stat-desc">–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º</div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-accent" onclick="openInvestmentModal('brokerage')">–û—Ç–∫—Ä—ã—Ç—å —Å—á–µ—Ç</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–º—É–ª—è—Ü–∏—è –±–∏—Ä–∂–∏ -->
    <div class="card bg-base-100 shadow-xl mb-8">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                </svg>
                –ë–∏—Ä–∂–∞
            </h2>
            
            <!-- –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∫–æ—Ç–∏—Ä–æ–≤–∫–∞–º–∏ -->
            <div class="bg-base-200 rounded-lg p-3 mb-4">
                <div class="flex items-center gap-2 text-sm font-mono">
                    <span class="text-primary font-bold">üìà LIVE</span>
                    <div id="ticker" class="flex gap-6 overflow-hidden whitespace-nowrap">
                        <!-- –ö–æ—Ç–∏—Ä–æ–≤–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –∞–∫—Ü–∏–π -->
            <div class="overflow-x-auto">
                <table class="table table-zebra w-full">
                    <thead>
                        <tr>
                            <th>–¢–∏–∫–µ—Ä</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                            <th>–¶–µ–Ω–∞</th>
                            <th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ</th>
                            <th>–û–±—ä–µ–º</th>
                            <th>–ì—Ä–∞—Ñ–∏–∫</th>
                        </tr>
                    </thead>
                    <tbody id="stocksTable">
                        <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </tbody>
                </table>
            </div>
            
        </div>
    </div>

    <!-- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ -->
    <div class="card bg-base-100 shadow-xl mb-8">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                </svg>
                –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
            </h2>
            
            <div class="overflow-x-auto">
                <table class="table table-zebra w-full">
                    <thead>
                        <tr>
                            <th>–ü—Ä–æ–¥—É–∫—Ç</th>
                            <th>–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</th>
                            <th>–†–∏—Å–∫</th>
                            <th>–ú–∏–Ω–∏–º—É–º</th>
                            <th>–ù–∞–ª–æ–≥–∏</th>
                            <th>–†–µ–π—Ç–∏–Ω–≥</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-primary text-primary-content flex items-center justify-center text-sm font-bold">–ò</div>
                                    <div>
                                        <div class="font-bold">–ò–ò–°</div>
                                        <div class="text-sm text-base-content/70">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Å—á–µ—Ç</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-success font-bold">+12.5%</span>
                                    <div class="w-16 bg-base-200 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-success to-primary h-2 rounded-full" style="width: 75%"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-warning">–°—Ä–µ–¥–Ω–∏–π</span>
                                    <div class="rating rating-sm">
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <span class="font-mono">1 000 ‚ÇΩ</span>
                            </td>
                            <td>
                                <div class="badge badge-success">–õ—å–≥–æ—Ç—ã</div>
                            </td>
                            <td>
                                <div class="rating rating-sm">
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-secondary text-secondary-content flex items-center justify-center text-sm font-bold">–ü</div>
                                    <div>
                                        <div class="font-bold">–ü–ò–§</div>
                                        <div class="text-sm text-base-content/70">–ü–∞–µ–≤–æ–π —Ñ–æ–Ω–¥</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-secondary font-bold">+9.8%</span>
                                    <div class="w-16 bg-base-200 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-secondary to-accent h-2 rounded-full" style="width: 65%"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-success">–ù–∏–∑–∫–∏–π</span>
                                    <div class="rating rating-sm">
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <span class="font-mono">1 000 ‚ÇΩ</span>
                            </td>
                            <td>
                                <div class="badge badge-warning">–û–±—ã—á–Ω—ã–µ</div>
                            </td>
                            <td>
                                <div class="rating rating-sm">
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-accent text-accent-content flex items-center justify-center text-sm font-bold">–ë</div>
                                    <div>
                                        <div class="font-bold">–ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π</div>
                                        <div class="text-sm text-base-content/70">–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-accent font-bold">+15.2%</span>
                                    <div class="w-16 bg-base-200 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-accent to-error h-2 rounded-full" style="width: 85%"></div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="flex items-center gap-2">
                                    <span class="text-error">–í—ã—Å–æ–∫–∏–π</span>
                                    <div class="rating rating-sm">
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                        <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <span class="font-mono">10 000 ‚ÇΩ</span>
                            </td>
                            <td>
                                <div class="badge badge-error">–í—ã—Å–æ–∫–∏–µ</div>
                            </td>
                            <td>
                                <div class="rating rating-sm">
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-warning" checked disabled/>
                                    <input type="radio" class="mask mask-star-2 bg-base-300" disabled/>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    

    <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
    <div class="card bg-base-100 shadow-xl mb-8">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                </svg>
                –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="card bg-gradient-to-br from-primary to-secondary text-primary-content">
                    <div class="card-body">
                        <h3 class="card-title text-lg">–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å</h3>
                        <p class="text-sm opacity-90">–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥</p>
                        <div class="card-actions justify-end">
                            <button class="btn btn-sm btn-primary" onclick="createPortfolio('conservative')">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="card bg-gradient-to-br from-secondary to-accent text-primary-content">
                    <div class="card-body">
                        <h3 class="card-title text-lg">–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å</h3>
                        <p class="text-sm opacity-90">–£–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∏—Å–∫ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</p>
                        <div class="card-actions justify-end">
                            <button class="btn btn-sm btn-secondary" onclick="createPortfolio('balanced')">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="card bg-gradient-to-br from-accent to-error text-primary-content">
                    <div class="card-body">
                        <h3 class="card-title text-lg">–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å</h3>
                        <p class="text-sm opacity-90">–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥</p>
                        <div class="card-actions justify-end">
                            <button class="btn btn-sm btn-accent" onclick="createPortfolio('aggressive')">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                –û–±—É—á–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="text-center p-4 hover:bg-base-200 rounded-lg cursor-pointer" onclick="openEducation('basics')">
                    <div class="text-3xl mb-2">üìö</div>
                    <h3 class="font-semibold mb-1">–û—Å–Ω–æ–≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                    <p class="text-sm text-base-content/70">–ë–∞–∑–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è</p>
                </div>
                <div class="text-center p-4 hover:bg-base-200 rounded-lg cursor-pointer" onclick="openEducation('analysis')">
                    <div class="text-3xl mb-2">üìä</div>
                    <h3 class="font-semibold mb-1">–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞</h3>
                    <p class="text-sm text-base-content/70">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</p>
                </div>
                <div class="text-center p-4 hover:bg-base-200 rounded-lg cursor-pointer" onclick="openEducation('portfolio')">
                    <div class="text-3xl mb-2">üéØ</div>
                    <h3 class="font-semibold mb-1">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º</h3>
                    <p class="text-sm text-base-content/70">–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è</p>
                </div>
                <div class="text-center p-4 hover:bg-base-200 rounded-lg cursor-pointer" onclick="openEducation('taxes')">
                    <div class="text-3xl mb-2">üí∞</div>
                    <h3 class="font-semibold mb-1">–ù–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ</h3>
                    <p class="text-sm text-base-content/70">–ù–∞–ª–æ–≥–∏ —Å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<div id="investmentModal" class="modal">
    <div class="modal-box max-w-2xl">
        <h3 class="font-bold text-xl mb-2" id="investmentModalTitle">–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
        <p class="text-base-content/70 mb-6">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</p>
        <form id="investmentForm">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <div class="form-control mb-5">
                        <label class="label"><span class="label-text">–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞</span></label>
                        <div class="filter w-full">
                            <input class="btn" type="radio" name="product_type" value="iis" aria-label="–ò–ò–°" checked>
                            <input class="btn" type="radio" name="product_type" value="pif" aria-label="–ü–ò–§">
                            <input class="btn" type="radio" name="product_type" value="brokerage" aria-label="–ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á–µ—Ç">
                        </div>
                        <label class="label"><span class="label-text-alt">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—Ä–æ–¥—É–∫—Ç</span></label>
                    </div>

                    <div class="form-control mb-5">
                        <label class="label"><span class="label-text">–°—É–º–º–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</span></label>
                        <input id="invAmountRange" type="range" min="1000" max="10000000" step="1000" value="100000" class="range range-primary">
                        <div class="flex justify-between text-xs px-1">
                            <span>1 000 ‚ÇΩ</span>
                            <span id="invAmountValue">100 000 ‚ÇΩ</span>
                            <span>10 000 000 ‚ÇΩ</span>
                        </div>
                        <input type="hidden" name="amount" id="invAmountHidden" value="100000">
                    </div>

                    <div class="form-control mb-5">
                        <label class="label"><span class="label-text">–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞</span></label>
                        <div class="join w-full">
                            <input class="btn join-item" type="radio" name="risk_level" value="low" aria-label="–ù–∏–∑–∫–∏–π" checked>
                            <input class="btn join-item" type="radio" name="risk_level" value="medium" aria-label="–°—Ä–µ–¥–Ω–∏–π">
                            <input class="btn join-item" type="radio" name="risk_level" value="high" aria-label="–í—ã—Å–æ–∫–∏–π">
                        </div>
                    </div>
                </div>

                <div>
                    <div class="form-control mb-5">
                        <label class="label"><span class="label-text">–°—á–µ—Ç –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è</span></label>
                        <select class="select select-bordered" name="account" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—á–µ—Ç</option>
                            {% for account in accounts %}
                                <option value="{{ account.id }}">{{ account.account_number }} ({{ account.balance|floatformat:0 }} ‚ÇΩ)</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="card bg-base-100 shadow">
                        <div class="card-body">
                            <h4 class="card-title text-base">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç</h4>
                            <div class="text-sm">
                                <div class="mb-2">–°—É–º–º–∞: <span class="font-semibold" id="invPreviewAmount">100 000 ‚ÇΩ</span></div>
                                <div class="mb-2">–ü—Ä–æ–¥—É–∫—Ç: <span class="font-semibold" id="invPreviewProduct">–ò–ò–°</span></div>
                                <div class="mb-2">–†–∏—Å–∫: <span class="font-semibold" id="invPreviewRisk">–ù–∏–∑–∫–∏–π</span></div>
                                <div class="text-xs opacity-70 mt-3" id="invTip">–û–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-end gap-2 mt-6">
                        <button type="button" class="btn btn-ghost" onclick="closeInvestmentModal()">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
function openInvestmentModal(type) {
    const modal = document.getElementById('investmentModal');
    const title = document.getElementById('investmentModalTitle');
    const productInputs = document.querySelectorAll('input[name="product_type"]');
    
    switch(type) {
        case 'iis':
            title.textContent = '–û—Ç–∫—Ä—ã—Ç–∏–µ –ò–ò–°';
            productInputs.forEach(i => { if (i.value === 'iis') i.checked = true; });
            break;
        case 'pif':
            title.textContent = '–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ü–ò–§';
            productInputs.forEach(i => { if (i.value === 'pif') i.checked = true; });
            break;
        case 'brokerage':
            title.textContent = '–û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–æ–∫–µ—Ä—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞';
            productInputs.forEach(i => { if (i.value === 'brokerage') i.checked = true; });
            break;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
    updateInvestmentPreview();
    
    modal.classList.add('modal-open');
}

function closeInvestmentModal() {
    document.getElementById('investmentModal').classList.remove('modal-open');
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π
function updateInvestmentPreview() {
    const amount = Number(document.getElementById('invAmountHidden')?.value || 100000);
    const productInput = document.querySelector('input[name="product_type"]:checked');
    const riskInput = document.querySelector('input[name="risk_level"]:checked');
    
    const product = productInput ? productInput.value : 'iis';
    const risk = riskInput ? riskInput.value : 'low';
    
    const productNames = {
        'iis': '–ò–ò–°',
        'pif': '–ü–ò–§', 
        'brokerage': '–ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á–µ—Ç'
    };
    
    const riskNames = {
        'low': '–ù–∏–∑–∫–∏–π',
        'medium': '–°—Ä–µ–¥–Ω–∏–π',
        'high': '–í—ã—Å–æ–∫–∏–π'
    };
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    const prevAmount = document.getElementById('invPreviewAmount');
    const prevProduct = document.getElementById('invPreviewProduct');
    const prevRisk = document.getElementById('invPreviewRisk');
    const tip = document.getElementById('invTip');
    
    if (prevAmount) prevAmount.textContent = Math.round(amount).toLocaleString('ru-RU') + ' ‚ÇΩ';
    if (prevProduct) prevProduct.textContent = productNames[product] || '–ò–ò–°';
    if (prevRisk) prevRisk.textContent = riskNames[risk] || '–ù–∏–∑–∫–∏–π';
    
    if (tip) {
        let message = '–û–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.';
        if (amount >= 1000000) message += ' –ö—Ä—É–ø–Ω–∞—è —Å—É–º–º–∞ ‚Äî —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.';
        else if (amount < 50000) message += ' –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã.';
        tip.textContent = message;
    }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    const amountSlider = document.getElementById('invAmountRange');
    const amountValue = document.getElementById('invAmountValue');
    const amountHidden = document.getElementById('invAmountHidden');
    
    if (amountSlider && amountValue && amountHidden) {
        amountSlider.addEventListener('input', function() {
            const value = Number(this.value);
            amountValue.textContent = value.toLocaleString('ru-RU') + ' ‚ÇΩ';
            amountHidden.value = String(value);
            updateInvestmentPreview();
        });
    }
    
    // –°–ª—É—à–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–æ–∫
    document.querySelectorAll('input[name="product_type"]').forEach(input => {
        input.addEventListener('change', updateInvestmentPreview);
    });
    
    document.querySelectorAll('input[name="risk_level"]').forEach(input => {
        input.addEventListener('change', updateInvestmentPreview);
    });
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateInvestmentPreview();
});

function viewInvestmentDetails(investmentId) {
    showAlert('–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ #' + investmentId, 'info');
}

function sellInvestment(investmentId) {
    confirmAction(
        '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–∞—Ç—å —ç—Ç—É –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—é?',
        function() {
            showAlert('–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –ø—Ä–æ–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!', 'success');
        }
    );
}

function createPortfolio(type) {
    const portfolioNames = {
        'conservative': '–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å',
        'balanced': '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å',
        'aggressive': '–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å'
    };
    
    showAlert('–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è: ' + portfolioNames[type], 'info');
}

function openEducation(topic) {
    const topics = {
        'basics': '–û—Å–Ω–æ–≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è',
        'analysis': '–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞',
        'portfolio': '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º',
        'taxes': '–ù–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ'
    };
    
    showAlert('–û—Ç–∫—Ä—ã—Ç–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞: ' + topics[topic], 'info');
}

// –≠–º—É–ª—è—Ü–∏—è –±–∏—Ä–∂–∏
(function() {
    const stocks = [
        { ticker: 'SBER', name: '–°–±–µ—Ä–±–∞–Ω–∫', basePrice: 250, volume: 1234567 },
        { ticker: 'GAZP', name: '–ì–∞–∑–ø—Ä–æ–º', basePrice: 180, volume: 876543 },
        { ticker: 'LKOH', name: '–õ—É–∫–æ–π–ª', basePrice: 7200, volume: 456789 },
        { ticker: 'NVTK', name: '–ù–æ–≤–∞—Ç—ç–∫', basePrice: 1200, volume: 234567 },
        { ticker: 'YNDX', name: '–Ø–Ω–¥–µ–∫—Å', basePrice: 2800, volume: 187654 },
        { ticker: 'TCSG', name: 'TCS Group', basePrice: 3500, volume: 156789 },
        { ticker: 'MGNT', name: '–ú–∞–≥–Ω–∏—Ç', basePrice: 4500, volume: 123456 },
        { ticker: 'ROSN', name: '–†–æ—Å–Ω–µ—Ñ—Ç—å', basePrice: 420, volume: 567890 }
    ];

    let currentPrices = {};
    
    function generatePrice(basePrice) {
        const change = (Math.random() - 0.5) * 0.1; // ¬±5% –∏–∑–º–µ–Ω–µ–Ω–∏–µ
        return Math.max(basePrice * 0.5, basePrice * (1 + change));
    }

    function formatPrice(price) {
        return price.toFixed(2);
    }

    function formatChange(oldPrice, newPrice) {
        const change = newPrice - oldPrice;
        const percent = (change / oldPrice) * 100;
        const sign = change >= 0 ? '+' : '';
        return `${sign}${change.toFixed(2)} (${sign}${percent.toFixed(2)}%)`;
    }

    function updateTicker() {
        const ticker = document.getElementById('ticker');
        if (!ticker) return;
        
        ticker.innerHTML = stocks.map(stock => {
            const price = currentPrices[stock.ticker] || stock.basePrice;
            return `<span class="font-mono">${stock.ticker}: ${formatPrice(price)} ‚ÇΩ</span>`;
        }).join(' | ');
    }

    function updateStocksTable() {
        const table = document.getElementById('stocksTable');
        if (!table) return;
        
        table.innerHTML = stocks.map(stock => {
            const oldPrice = currentPrices[stock.ticker] || stock.basePrice;
            const newPrice = generatePrice(stock.basePrice);
            currentPrices[stock.ticker] = newPrice;
            
            const change = newPrice - oldPrice;
            const changeClass = change >= 0 ? 'text-success' : 'text-error';
            const changeIcon = change >= 0 ? '‚Üó' : '‚Üò';
            
            // –ü—Ä–æ—Å—Ç–æ–π –º–∏–Ω–∏-–≥—Ä–∞—Ñ–∏–∫ (5 —Ç–æ—á–µ–∫)
            const chartPoints = [];
            for (let i = 0; i < 5; i++) {
                const pointPrice = generatePrice(stock.basePrice);
                chartPoints.push(pointPrice);
            }
            const minPrice = Math.min(...chartPoints);
            const maxPrice = Math.max(...chartPoints);
            const range = maxPrice - minPrice || 1;
            
            const chartSvg = `<svg width="60" height="20" class="inline-block">
                <polyline points="${chartPoints.map((price, i) => {
                    const x = (i / 4) * 60;
                    const y = 20 - ((price - minPrice) / range) * 20;
                    return `${x},${y}`;
                }).join(' ')}" 
                fill="none" 
                stroke="${change >= 0 ? '#10b981' : '#ef4444'}" 
                stroke-width="1.5"/>
                ${chartPoints.map((price, i) => {
                    const x = (i / 4) * 60;
                    const y = 20 - ((price - minPrice) / range) * 20;
                    return `<circle cx="${x}" cy="${y}" r="1" fill="${change >= 0 ? '#10b981' : '#ef4444'}"/>`;
                }).join('')}
            </svg>`;
            
            return `
                <tr>
                    <td class="font-bold font-mono">${stock.ticker}</td>
                    <td>${stock.name}</td>
                    <td class="font-mono">${formatPrice(newPrice)} ‚ÇΩ</td>
                    <td class="${changeClass} font-mono">${changeIcon} ${formatChange(oldPrice, newPrice)}</td>
                    <td class="text-sm opacity-70">${(stock.volume / 1000).toFixed(1)}K</td>
                    <td>${chartSvg}</td>
                </tr>
            `;
        }).join('');
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    stocks.forEach(stock => {
        currentPrices[stock.ticker] = stock.basePrice;
    });
    
    updateTicker();
    updateStocksTable();
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
    setInterval(() => {
        updateTicker();
        updateStocksTable();
    }, 3000);
})();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
document.getElementById('investmentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    showAlert('–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É! –û–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.', 'info');
    closeInvestmentModal();
    this.reset();
});

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
function showAlert(message, type = 'info') {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const alertDiv = document.createElement('div');
    alertDiv.className = `alert alert-${type} fixed top-4 right-4 z-50 max-w-sm`;
    alertDiv.innerHTML = `
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>${message}</span>
        <button class="btn btn-sm btn-ghost" onclick="this.parentElement.remove()">‚úï</button>
    `;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    document.body.appendChild(alertDiv);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        if (alertDiv.parentElement) {
            alertDiv.remove();
        }
    }, 5000);
}

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è
function createPortfolio(type) {
    showAlert('–û–±—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É', 'success');
}
</script>
{% endblock %}